{"ast":null,"code":"import{authAPI}from'../api/api';import{getAuthUserData}from'./authReducer';const INITIALIZED_SUCCESS='INITIALIZED_SUCCESS';let initialState={initialized:false};const appReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case INITIALIZED_SUCCESS:return{...state,initialized:true};default:return state;}};//dispatch\nexport const initializedSuccess=()=>({type:INITIALIZED_SUCCESS});//thunk\nexport const initializeApp=()=>{return dispatch=>{let promise=dispatch(getAuthUserData());Promise.all([promise]).then(()=>{dispatch(initializedSuccess());});};};export default appReducer;","map":{"version":3,"names":["authAPI","getAuthUserData","INITIALIZED_SUCCESS","initialState","initialized","appReducer","state","arguments","length","undefined","action","type","initializedSuccess","initializeApp","dispatch","promise","Promise","all","then"],"sources":["C:/Work/React/studying/my-app/src/redux/appReducer.js"],"sourcesContent":["import { authAPI } from '../api/api';\r\nimport { getAuthUserData } from './authReducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//dispatch\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n//thunk\r\nexport const initializeApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(getAuthUserData());\r\n        Promise.all([promise])\r\n            .then(() => {\r\n                dispatch(initializedSuccess());\r\n            });\r\n    }\r\n}\r\n\r\nexport default appReducer;"],"mappings":"AAAA,OAASA,OAAO,KAAQ,YAAY,CACpC,OAASC,eAAe,KAAQ,eAAe,CAE/C,KAAM,CAAAC,mBAAmB,CAAG,qBAAqB,CAEjD,GAAI,CAAAC,YAAY,CAAG,CACfC,WAAW,CAAE,KACjB,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,QAAAA,CAAA,CAAkC,IAAjC,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGJ,YAAY,IAAE,CAAAO,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC5C,OAAOC,MAAM,CAACC,IAAI,EACd,IAAK,CAAAT,mBAAmB,CACpB,MAAO,CACH,GAAGI,KAAK,CACRF,WAAW,CAAE,IACjB,CAAC,CACL,QACI,MAAO,CAAAE,KAAK,CACpB,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAM,kBAAkB,CAAGA,CAAA,IAAO,CAACD,IAAI,CAAET,mBAAmB,CAAC,CAAC,CAErE;AACA,MAAO,MAAM,CAAAW,aAAa,CAAGA,CAAA,GAAM,CAC/B,MAAQ,CAAAC,QAAQ,EAAK,CACjB,GAAI,CAAAC,OAAO,CAAGD,QAAQ,CAACb,eAAe,CAAC,CAAC,CAAC,CACzCe,OAAO,CAACC,GAAG,CAAC,CAACF,OAAO,CAAC,CAAC,CACjBG,IAAI,CAAC,IAAM,CACRJ,QAAQ,CAACF,kBAAkB,CAAC,CAAC,CAAC,CAClC,CAAC,CAAC,CACV,CAAC,CACL,CAAC,CAED,cAAe,CAAAP,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}
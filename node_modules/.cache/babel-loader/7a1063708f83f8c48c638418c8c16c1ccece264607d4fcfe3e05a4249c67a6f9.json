{"ast":null,"code":"import React,{Component,lazy}from'react';import{HashRouter,Routes,Route,useParams,BrowserRouter,Navigate}from'react-router-dom';import{connect,Provider}from'react-redux';import'./css/App.css';import HeaderContainer from'./components/Header/HeaderContainer';import Sidebar from'./components/Sidebar/Sidebar';import News from'./components/News/News';import Music from'./components/Music/Music';import Settings from'./components/Settings/Settings';import Footer from'./components/Footer';import UsersContainer from'./components/Users/UsersContainer';import Auth from'./components/Auth/Auth';import{initializeApp}from'./redux/appReducer';import{compose}from'redux';import Preloader from'./components/Preloader/Preloader';import store from'./redux/redux-store';import{withSuspense}from'./hoc/Suspense';//import DialoguesContainer from './components/Dialogues/DialoguesContainer';\n//import ProfileContainer from './components/Profile/ProfileContainer';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DialoguesContainer=/*#__PURE__*/lazy(()=>import('./components/Dialogues/DialoguesContainer'));const ProfileContainer=/*#__PURE__*/lazy(()=>import('./components/Profile/ProfileContainer'));const DialogContainerWithSuspense=withSuspense(DialoguesContainer);const ProfileContainerWithSuspense=withSuspense(ProfileContainer);export function withRouter(Children){return props=>{const match={params:useParams()};return/*#__PURE__*/_jsx(Children,{...props,match:match});};}class App extends Component{/*catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    alert('Error occured');\n    console.error(promiseRejectionEvent);\n  }*/componentDidMount(){this.props.initializeApp();window.addEventListener('unhandlerejection',this.catchAllUnhandledErrors);}/*componentWillUnmount() {\n    window.removeEventListener('unhandlerejection', this.catchAllUnhandledErrors);\n  }*/render(){if(!this.props.initialized){return/*#__PURE__*/_jsx(Preloader,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app-wrapper\",children:[/*#__PURE__*/_jsx(HeaderContainer,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:'/profile'})}),/*#__PURE__*/_jsx(Route,{path:\"/messages\",element:/*#__PURE__*/_jsx(DialogContainerWithSuspense,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userId?\",element:/*#__PURE__*/_jsx(ProfileContainerWithSuspense,{})}),/*#__PURE__*/_jsx(Route,{path:\"/users\",element:/*#__PURE__*/_jsx(UsersContainer,{})}),/*#__PURE__*/_jsx(Route,{path:\"/news\",element:/*#__PURE__*/_jsx(News,{})}),/*#__PURE__*/_jsx(Route,{path:\"/music\",element:/*#__PURE__*/_jsx(Music,{})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:()=>/*#__PURE__*/_jsx(\"div\",{children:\"404 NOT FOUND\"})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}}const mapStateToProps=state=>({initialized:state.app.initialized});/*export default compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);*/const AppContainer=compose(withRouter,connect(mapStateToProps,{initializeApp}))(App);//v.1\n{/*<React.StrictMode></React.StrictMode>*/}/*const SocialNetworkApp = (props) => {\n  return <BrowserRouter>\n    \n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    \n  </BrowserRouter>\n};*/ //v.2 for GitHub pages\nconst SocialNetworkApp=props=>{return/*#__PURE__*/_jsx(HashRouter,{basename:\"/\",children:/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(AppContainer,{})})});};export default SocialNetworkApp;","map":{"version":3,"names":["React","Component","lazy","HashRouter","Routes","Route","useParams","BrowserRouter","Navigate","connect","Provider","HeaderContainer","Sidebar","News","Music","Settings","Footer","UsersContainer","Auth","initializeApp","compose","Preloader","store","withSuspense","jsx","_jsx","jsxs","_jsxs","DialoguesContainer","ProfileContainer","DialogContainerWithSuspense","ProfileContainerWithSuspense","withRouter","Children","props","match","params","App","componentDidMount","window","addEventListener","catchAllUnhandledErrors","render","initialized","className","children","exact","path","element","to","mapStateToProps","state","app","AppContainer","SocialNetworkApp","basename"],"sources":["C:/Work/React/studying/my-app/src/App.js"],"sourcesContent":["import React, { Component, lazy } from 'react';\nimport { HashRouter, Routes, Route, useParams, BrowserRouter, Navigate } from 'react-router-dom';\nimport { connect, Provider } from 'react-redux';\nimport './css/App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport Footer from './components/Footer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport Auth from './components/Auth/Auth';\nimport { initializeApp } from './redux/appReducer';\nimport { compose } from 'redux';\nimport Preloader from './components/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport { withSuspense } from './hoc/Suspense';\n\n//import DialoguesContainer from './components/Dialogues/DialoguesContainer';\n//import ProfileContainer from './components/Profile/ProfileContainer';\nconst DialoguesContainer = lazy(() => import('./components/Dialogues/DialoguesContainer'));\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogContainerWithSuspense = withSuspense(DialoguesContainer)\nconst ProfileContainerWithSuspense = withSuspense(ProfileContainer)\n\nexport function withRouter(Children) {\n  return(props) => {\n      const match = {params: useParams()};\n      return <Children {...props} match={match} />\n  }\n}\n\nclass App extends Component {\n  /*catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    alert('Error occured');\n    console.error(promiseRejectionEvent);\n  }*/\n\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener('unhandlerejection', this.catchAllUnhandledErrors);\n  }\n\n  /*componentWillUnmount() {\n    window.removeEventListener('unhandlerejection', this.catchAllUnhandledErrors);\n  }*/\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Sidebar />\n        <div className='content'>\n          <Routes>\n            <Route \n              exact \n              path='/' \n              element={<Navigate to={'/profile'} /> } />\n            <Route \n              path='/messages' \n              element={<DialogContainerWithSuspense />} />\n            <Route \n              path='/profile/:userId?' \n              element={<ProfileContainerWithSuspense />} />\n            <Route \n              path='/users' \n              element={<UsersContainer />} />\n            <Route \n              path='/news' \n              element={<News />} />\n            <Route \n              path='/music' \n              element={<Music />} />\n            <Route \n              path='/settings' \n              element={<Settings />} />\n            <Route \n              path='/auth' \n              element={<Auth />} />\n            <Route \n              path='*' \n              element={() => <div>404 NOT FOUND</div>} />\n          </Routes>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\n/*export default compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);*/\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\n//v.1\n{/*<React.StrictMode></React.StrictMode>*/}\n/*const SocialNetworkApp = (props) => {\n  return <BrowserRouter>\n    \n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    \n  </BrowserRouter>\n};*/\n//v.2 for GitHub pages\nconst SocialNetworkApp = (props) => {\n  return <HashRouter basename='/'>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n};\n\nexport default SocialNetworkApp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
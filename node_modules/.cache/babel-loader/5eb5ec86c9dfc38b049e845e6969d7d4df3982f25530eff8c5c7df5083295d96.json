{"ast":null,"code":"import React from'react';import{Field,reduxForm}from'redux-form';import classes from'../../css/Dialogues/Dialogues.module.css';import DialogueItem from'../Dialogues/DialogueItem/DialogueItem';import Message from'../Dialogues/Message/Message';import{Textarea}from'../../utils/FormControls/FormControls';import{requiredField,maxLengthCreator}from'../../utils/Validators/Validators';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Dialogues=props=>{let state=props.pageDialogues;let dialoguesEls=state.dialoguesDt.map(chat=>/*#__PURE__*/_jsx(DialogueItem,{name:chat.name,id:chat.id,image:chat.image},chat.id));let messagesEls=state.messagesDt.map(msg=>/*#__PURE__*/_jsx(Message,{message:msg.message,sendFrom:msg.sender},msg.id));let addMsgNew=values=>{props.addMsg(values.newMessage);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.dialogues,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.dialogues_items,children:dialoguesEls}),/*#__PURE__*/_jsxs(\"div\",{className:classes.messages,children:[messagesEls,/*#__PURE__*/_jsx(AddMessageReduxForm,{onSubmit:addMsgNew})]})]});};const maxLength50=maxLengthCreator(50);const AddMessageForm=props=>{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:props.handleSubmit,children:[/*#__PURE__*/_jsx(Field,{component:Textarea,name:\"newMessage\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\",validate:[requiredField,maxLength50]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})});};const AddMessageReduxForm=reduxForm({form:'addMessage'})(AddMessageForm);export default Dialogues;","map":{"version":3,"names":["React","Field","reduxForm","classes","DialogueItem","Message","Textarea","requiredField","maxLengthCreator","jsx","_jsx","jsxs","_jsxs","Dialogues","props","state","pageDialogues","dialoguesEls","dialoguesDt","map","chat","name","id","image","messagesEls","messagesDt","msg","message","sendFrom","sender","addMsgNew","values","addMsg","newMessage","className","dialogues","children","dialogues_items","messages","AddMessageReduxForm","onSubmit","maxLength50","AddMessageForm","form","handleSubmit","component","placeholder","validate","type"],"sources":["C:/Work/React/studying/my-app/src/components/Dialogues/Dialogues.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport classes from '../../css/Dialogues/Dialogues.module.css';\r\nimport DialogueItem from '../Dialogues/DialogueItem/DialogueItem';\r\nimport Message from '../Dialogues/Message/Message';\r\nimport { Textarea } from '../../utils/FormControls/FormControls';\r\nimport { requiredField, maxLengthCreator } from '../../utils/Validators/Validators';\r\n\r\nconst Dialogues = (props) => {\r\n    let state = props.pageDialogues;\r\n\r\n    let dialoguesEls = state.dialoguesDt.map(chat => <DialogueItem name={chat.name} id={chat.id} key={chat.id} image={chat.image} />);\r\n\r\n    let messagesEls = state.messagesDt.map(msg => <Message message={msg.message} sendFrom={msg.sender} key={msg.id} />);\r\n\r\n    let addMsgNew = (values) => {\r\n        props.addMsg(values.newMessage);\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.dialogues}>\r\n            <div className={classes.dialogues_items}>\r\n                {dialoguesEls}\r\n            </div>\r\n            <div className={classes.messages}>\r\n                {messagesEls}\r\n                <AddMessageReduxForm onSubmit={addMsgNew} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form \r\n                className={classes.form}\r\n                onSubmit={ props.handleSubmit }>\r\n                <Field \r\n                    component={Textarea}\r\n                    name='newMessage'\r\n                    placeholder='Введите сообщение'\r\n                    validate={[requiredField, maxLength50]} />\r\n                <button type='submit'>\r\n                    Отправить\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddMessageReduxForm = reduxForm({form: 'addMessage'})(AddMessageForm)\r\n\r\nexport default Dialogues;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,SAAS,KAAQ,YAAY,CAC7C,MAAO,CAAAC,OAAO,KAAM,0CAA0C,CAC9D,MAAO,CAAAC,YAAY,KAAM,wCAAwC,CACjE,MAAO,CAAAC,OAAO,KAAM,8BAA8B,CAClD,OAASC,QAAQ,KAAQ,uCAAuC,CAChE,OAASC,aAAa,CAAEC,gBAAgB,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpF,KAAM,CAAAC,SAAS,CAAIC,KAAK,EAAK,CACzB,GAAI,CAAAC,KAAK,CAAGD,KAAK,CAACE,aAAa,CAE/B,GAAI,CAAAC,YAAY,CAAGF,KAAK,CAACG,WAAW,CAACC,GAAG,CAACC,IAAI,eAAIV,IAAA,CAACN,YAAY,EAACiB,IAAI,CAAED,IAAI,CAACC,IAAK,CAACC,EAAE,CAAEF,IAAI,CAACE,EAAG,CAAeC,KAAK,CAAEH,IAAI,CAACG,KAAM,EAA3BH,IAAI,CAACE,EAAwB,CAAC,CAAC,CAEjI,GAAI,CAAAE,WAAW,CAAGT,KAAK,CAACU,UAAU,CAACN,GAAG,CAACO,GAAG,eAAIhB,IAAA,CAACL,OAAO,EAACsB,OAAO,CAAED,GAAG,CAACC,OAAQ,CAACC,QAAQ,CAAEF,GAAG,CAACG,MAAO,EAAMH,GAAG,CAACJ,EAAK,CAAC,CAAC,CAEnH,GAAI,CAAAQ,SAAS,CAAIC,MAAM,EAAK,CACxBjB,KAAK,CAACkB,MAAM,CAACD,MAAM,CAACE,UAAU,CAAC,CACnC,CAAC,CAED,mBACIrB,KAAA,QAAKsB,SAAS,CAAE/B,OAAO,CAACgC,SAAU,CAAAC,QAAA,eAC9B1B,IAAA,QAAKwB,SAAS,CAAE/B,OAAO,CAACkC,eAAgB,CAAAD,QAAA,CACnCnB,YAAY,CACZ,CAAC,cACNL,KAAA,QAAKsB,SAAS,CAAE/B,OAAO,CAACmC,QAAS,CAAAF,QAAA,EAC5BZ,WAAW,cACZd,IAAA,CAAC6B,mBAAmB,EAACC,QAAQ,CAAEV,SAAU,CAAE,CAAC,EAC3C,CAAC,EACL,CAAC,CAEd,CAAC,CAED,KAAM,CAAAW,WAAW,CAAGjC,gBAAgB,CAAC,EAAE,CAAC,CAExC,KAAM,CAAAkC,cAAc,CAAI5B,KAAK,EAAK,CAC9B,mBACIJ,IAAA,QAAA0B,QAAA,cACIxB,KAAA,SACIsB,SAAS,CAAE/B,OAAO,CAACwC,IAAK,CACxBH,QAAQ,CAAG1B,KAAK,CAAC8B,YAAc,CAAAR,QAAA,eAC/B1B,IAAA,CAACT,KAAK,EACF4C,SAAS,CAAEvC,QAAS,CACpBe,IAAI,CAAC,YAAY,CACjByB,WAAW,CAAC,mGAAmB,CAC/BC,QAAQ,CAAE,CAACxC,aAAa,CAAEkC,WAAW,CAAE,CAAE,CAAC,cAC9C/B,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAAAZ,QAAA,CAAC,wDAEtB,CAAQ,CAAC,EACP,CAAC,CACN,CAAC,CAEd,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAGrC,SAAS,CAAC,CAACyC,IAAI,CAAE,YAAY,CAAC,CAAC,CAACD,cAAc,CAAC,CAE3E,cAAe,CAAA7B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}
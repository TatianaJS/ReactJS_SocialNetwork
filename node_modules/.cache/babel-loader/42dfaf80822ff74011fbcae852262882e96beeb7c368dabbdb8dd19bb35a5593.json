{"ast":null,"code":"import React,{useState}from'react';import classes from'../../css/Paginator/Paginator.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Paginator=_ref=>{let{totalItemsCount,pageSize,currentPage,onPageChanged,sectionAmount=10}=_ref;let pagesCount=Math.ceil(totalItemsCount/pageSize);let pages=[];for(let i=1;i<=pagesCount;i++){pages.push(i);}let sectionsAmount=Math.ceil(pagesCount/sectionAmount);let[sectionNumber,setSectionNumber]=useState(1);let leftSectionPageNum=(sectionNumber-1)*sectionAmount+1;let rightSectionPageNum=sectionNumber*sectionAmount;return/*#__PURE__*/_jsxs(\"div\",{className:classes.nav_pages,children:[sectionNumber>1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onPageChanged(pages[0]);setSectionNumber(1);},children:\"\\u041A \\u043D\\u0430\\u0447\\u0430\\u043B\\u0443\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSectionNumber(sectionAmount-1);},children:\"\\u041F\\u0440\\u0435\\u0434.\"})]}),pages.filter(page=>page>=leftSectionPageNum&&page<=rightSectionPageNum).map((page,index)=>{return/*#__PURE__*/_jsx(\"span\",{className:currentPage===page?classes.selected_page:classes.pg,onClick:e=>{onPageChanged(page);},children:page},index);}),sectionsAmount>sectionNumber&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSectionNumber(sectionNumber+1);},children:\"\\u0421\\u043B\\u0435\\u0434.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onPageChanged(pages[pages.length-1]);setSectionNumber(sectionsAmount);},children:\"\\u041D\\u0430 \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u044E\\u044E\"})]})]});};export default Paginator;","map":{"version":3,"names":["React","useState","classes","jsx","_jsx","jsxs","_jsxs","Paginator","_ref","totalItemsCount","pageSize","currentPage","onPageChanged","sectionAmount","pagesCount","Math","ceil","pages","i","push","sectionsAmount","sectionNumber","setSectionNumber","leftSectionPageNum","rightSectionPageNum","className","nav_pages","children","onClick","filter","page","map","index","selected_page","pg","e","length"],"sources":["C:/Work/React/studying/my-app/src/components/Paginator/Paginator.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport classes from '../../css/Paginator/Paginator.module.css';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, sectionAmount = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i=1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let sectionsAmount = Math.ceil(pagesCount / sectionAmount);\r\n    let [sectionNumber, setSectionNumber] = useState(1);\r\n    let leftSectionPageNum = (sectionNumber - 1) * sectionAmount + 1;\r\n    let rightSectionPageNum = sectionNumber * sectionAmount;\r\n    \r\n    return (\r\n        <div className={classes.nav_pages}>\r\n            {sectionNumber > 1 &&\r\n                <div>\r\n                    <button onClick={() => {\r\n                        onPageChanged(pages[0])\r\n                        setSectionNumber(1)}}>\r\n                        К началу\r\n                    </button>\r\n                    <button onClick={() => {setSectionNumber(sectionAmount - 1)}}>\r\n                        Пред.\r\n                    </button>\r\n                </div>\r\n            }\r\n            {pages\r\n                .filter(page => page >= leftSectionPageNum && page <= rightSectionPageNum)\r\n                .map((page, index) => {\r\n                    return (\r\n                        <span \r\n                            key={index}\r\n                            className={currentPage === page ? classes.selected_page : classes.pg}\r\n                            onClick={(e) => {onPageChanged(page)}}>\r\n                            {page}\r\n                        </span>\r\n                    );\r\n                })}\r\n            {sectionsAmount > sectionNumber &&\r\n                <div>\r\n                    <button onClick={() => {setSectionNumber(sectionNumber + 1)}}>\r\n                    След.\r\n                    </button>\r\n                    <button onClick={() => {\r\n                        onPageChanged(pages[pages.length - 1])\r\n                        setSectionNumber(sectionsAmount)}}>\r\n                            На последнюю\r\n                        </button>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,OAAO,KAAM,0CAA0C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/D,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAiF,IAAhF,CAACC,eAAe,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,aAAa,CAAEC,aAAa,CAAG,EAAE,CAAC,CAAAL,IAAA,CAC1F,GAAI,CAAAM,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACP,eAAe,CAAGC,QAAQ,CAAC,CACtD,GAAI,CAAAO,KAAK,CAAG,EAAE,CACd,IAAK,GAAI,CAAAC,CAAC,CAAC,CAAC,CAAEA,CAAC,EAAIJ,UAAU,CAAEI,CAAC,EAAE,CAAE,CAChCD,KAAK,CAACE,IAAI,CAACD,CAAC,CAAC,CACjB,CAEA,GAAI,CAAAE,cAAc,CAAGL,IAAI,CAACC,IAAI,CAACF,UAAU,CAAGD,aAAa,CAAC,CAC1D,GAAI,CAACQ,aAAa,CAAEC,gBAAgB,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CACnD,GAAI,CAAAsB,kBAAkB,CAAG,CAACF,aAAa,CAAG,CAAC,EAAIR,aAAa,CAAG,CAAC,CAChE,GAAI,CAAAW,mBAAmB,CAAGH,aAAa,CAAGR,aAAa,CAEvD,mBACIP,KAAA,QAAKmB,SAAS,CAAEvB,OAAO,CAACwB,SAAU,CAAAC,QAAA,EAC7BN,aAAa,CAAG,CAAC,eACdf,KAAA,QAAAqB,QAAA,eACIvB,IAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAM,CACnBhB,aAAa,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,CACvBK,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAAK,QAAA,CAAC,6CAE1B,CAAQ,CAAC,cACTvB,IAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAM,CAACN,gBAAgB,CAACT,aAAa,CAAG,CAAC,CAAC,EAAE,CAAAc,QAAA,CAAC,2BAE9D,CAAQ,CAAC,EACR,CAAC,CAETV,KAAK,CACDY,MAAM,CAACC,IAAI,EAAIA,IAAI,EAAIP,kBAAkB,EAAIO,IAAI,EAAIN,mBAAmB,CAAC,CACzEO,GAAG,CAAC,CAACD,IAAI,CAAEE,KAAK,GAAK,CAClB,mBACI5B,IAAA,SAEIqB,SAAS,CAAEd,WAAW,GAAKmB,IAAI,CAAG5B,OAAO,CAAC+B,aAAa,CAAG/B,OAAO,CAACgC,EAAG,CACrEN,OAAO,CAAGO,CAAC,EAAK,CAACvB,aAAa,CAACkB,IAAI,CAAC,EAAE,CAAAH,QAAA,CACrCG,IAAI,EAHAE,KAIH,CAAC,CAEf,CAAC,CAAC,CACLZ,cAAc,CAAGC,aAAa,eAC3Bf,KAAA,QAAAqB,QAAA,eACIvB,IAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAM,CAACN,gBAAgB,CAACD,aAAa,CAAG,CAAC,CAAC,EAAE,CAAAM,QAAA,CAAC,2BAE9D,CAAQ,CAAC,cACTvB,IAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAM,CACnBhB,aAAa,CAACK,KAAK,CAACA,KAAK,CAACmB,MAAM,CAAG,CAAC,CAAC,CAAC,CACtCd,gBAAgB,CAACF,cAAc,CAAC,EAAE,CAAAO,QAAA,CAAC,qEAEnC,CAAQ,CAAC,EAChB,CAAC,EAEL,CAAC,CAEd,CAAC,CAED,cAAe,CAAApB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}
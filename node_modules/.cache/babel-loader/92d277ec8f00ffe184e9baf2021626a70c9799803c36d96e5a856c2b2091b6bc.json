{"ast":null,"code":"import React from'react';import{reduxForm}from'redux-form';import{connect}from'react-redux';import{Authorization}from'../../redux/authReducer';import{Navigate}from'react-router-dom';import classes from'../../css/Auth/Auth.module.css';import{Input,createField}from'../../utils/FormControls/FormControls';import{requiredField}from'../../utils/Validators/Validators';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SignInForm=_ref=>{let{handleSubmit,error,captchaUrl}=_ref;return/*#__PURE__*/_jsxs(\"form\",{className:classes.signin_form,onSubmit:handleSubmit,children:[createField(Input,'email','E-mail','text',[requiredField],null),createField(Input,'password','Пароль','password',[requiredField],null),/*#__PURE__*/_jsx(\"label\",{className:\"input_checkbox__customized\",children:createField(Input,'rememberMe',null,'checkbox',[],'Запомнить меня')}),captchaUrl&&/*#__PURE__*/_jsx(\"img\",{src:captchaUrl}),captchaUrl&&createField(Input,'captcha','Введите символы с картинки','text',[requiredField],null),error&&/*#__PURE__*/_jsx(\"div\",{className:\"form_error\",children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})})]});};const SignInReduxForm=reduxForm({form:'signIn'})(SignInForm);const Auth=props=>{const onSubmit=formData=>{props.Authorization(formData.email,formData.password,formData.rememberMe,formData.captcha);};if(props.isAuthorized){return/*#__PURE__*/_jsx(Navigate,{to:'/profile'});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:classes.page_title,children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(SignInReduxForm,{onSubmit:onSubmit,captchaUrl:props.captchaUrl})]});};const mapStateToProps=state=>({isAuthorized:state.auth.isAuthorized,captchaUrl:state.auth.captchaUrl});export default connect(mapStateToProps,{Authorization})(Auth);","map":{"version":3,"names":["React","reduxForm","connect","Authorization","Navigate","classes","Input","createField","requiredField","jsx","_jsx","jsxs","_jsxs","SignInForm","_ref","handleSubmit","error","captchaUrl","className","signin_form","onSubmit","children","src","type","SignInReduxForm","form","Auth","props","formData","email","password","rememberMe","captcha","isAuthorized","to","page_title","mapStateToProps","state","auth"],"sources":["C:/Work/React/studying/my-app/src/components/Auth/Auth.jsx"],"sourcesContent":["import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { connect } from 'react-redux';\r\nimport { Authorization } from '../../redux/authReducer';\r\nimport { Navigate } from 'react-router-dom';\r\nimport classes from '../../css/Auth/Auth.module.css';\r\nimport { Input, createField } from '../../utils/FormControls/FormControls';\r\nimport { requiredField } from '../../utils/Validators/Validators';\r\n\r\nconst SignInForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return ( \r\n        <form \r\n            className={classes.signin_form}\r\n            onSubmit={handleSubmit}>\r\n            {createField(Input, 'email', 'E-mail', 'text', [requiredField], null)}\r\n            {createField(Input, 'password', 'Пароль', 'password', [requiredField], null)}\r\n            <label className='input_checkbox__customized'>\r\n                {createField(Input, 'rememberMe', null, 'checkbox', [], 'Запомнить меня')}\r\n            </label>\r\n            {captchaUrl && <img src={captchaUrl} />}\r\n            {captchaUrl && createField(Input, 'captcha', 'Введите символы с картинки', 'text', [requiredField], null)}\r\n            {error && <div className='form_error'>{error}</div>}\r\n            <div>\r\n                <button type='submit'>\r\n                    Авторизоваться\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst SignInReduxForm = reduxForm({form: 'signIn'})(SignInForm)\r\n\r\nconst Auth = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.Authorization(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuthorized) {\r\n        return <Navigate to={'/profile'} />\r\n    }\r\n\r\n    return <div>\r\n        <h1 className={ classes.page_title }>\r\n            Авторизация\r\n        </h1>\r\n        <SignInReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuthorized: state.auth.isAuthorized,\r\n    captchaUrl: state.auth.captchaUrl\r\n});\r\n\r\nexport default connect(mapStateToProps, {Authorization})(Auth);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,YAAY,CACtC,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,aAAa,KAAQ,yBAAyB,CACvD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,OAAO,KAAM,gCAAgC,CACpD,OAASC,KAAK,CAAEC,WAAW,KAAQ,uCAAuC,CAC1E,OAASC,aAAa,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElE,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAuC,IAAtC,CAACC,YAAY,CAAEC,KAAK,CAAEC,UAAU,CAAC,CAAAH,IAAA,CACjD,mBACIF,KAAA,SACIM,SAAS,CAAEb,OAAO,CAACc,WAAY,CAC/BC,QAAQ,CAAEL,YAAa,CAAAM,QAAA,EACtBd,WAAW,CAACD,KAAK,CAAE,OAAO,CAAE,QAAQ,CAAE,MAAM,CAAE,CAACE,aAAa,CAAC,CAAE,IAAI,CAAC,CACpED,WAAW,CAACD,KAAK,CAAE,UAAU,CAAE,QAAQ,CAAE,UAAU,CAAE,CAACE,aAAa,CAAC,CAAE,IAAI,CAAC,cAC5EE,IAAA,UAAOQ,SAAS,CAAC,4BAA4B,CAAAG,QAAA,CACxCd,WAAW,CAACD,KAAK,CAAE,YAAY,CAAE,IAAI,CAAE,UAAU,CAAE,EAAE,CAAE,gBAAgB,CAAC,CACtE,CAAC,CACPW,UAAU,eAAIP,IAAA,QAAKY,GAAG,CAAEL,UAAW,CAAE,CAAC,CACtCA,UAAU,EAAIV,WAAW,CAACD,KAAK,CAAE,SAAS,CAAE,4BAA4B,CAAE,MAAM,CAAE,CAACE,aAAa,CAAC,CAAE,IAAI,CAAC,CACxGQ,KAAK,eAAIN,IAAA,QAAKQ,SAAS,CAAC,YAAY,CAAAG,QAAA,CAAEL,KAAK,CAAM,CAAC,cACnDN,IAAA,QAAAW,QAAA,cACIX,IAAA,WAAQa,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,sFAEtB,CAAQ,CAAC,CACR,CAAC,EACJ,CAAC,CAEf,CAAC,CAED,KAAM,CAAAG,eAAe,CAAGvB,SAAS,CAAC,CAACwB,IAAI,CAAE,QAAQ,CAAC,CAAC,CAACZ,UAAU,CAAC,CAE/D,KAAM,CAAAa,IAAI,CAAIC,KAAK,EAAK,CACpB,KAAM,CAAAP,QAAQ,CAAIQ,QAAQ,EAAK,CAC3BD,KAAK,CAACxB,aAAa,CAACyB,QAAQ,CAACC,KAAK,CAAED,QAAQ,CAACE,QAAQ,CAAEF,QAAQ,CAACG,UAAU,CAAEH,QAAQ,CAACI,OAAO,CAAC,CACjG,CAAC,CAED,GAAIL,KAAK,CAACM,YAAY,CAAE,CACpB,mBAAOvB,IAAA,CAACN,QAAQ,EAAC8B,EAAE,CAAE,UAAW,CAAE,CAAC,CACvC,CAEA,mBAAOtB,KAAA,QAAAS,QAAA,eACHX,IAAA,OAAIQ,SAAS,CAAGb,OAAO,CAAC8B,UAAY,CAAAd,QAAA,CAAC,oEAErC,CAAI,CAAC,cACLX,IAAA,CAACc,eAAe,EAACJ,QAAQ,CAAEA,QAAS,CAACH,UAAU,CAAEU,KAAK,CAACV,UAAW,CAAE,CAAC,EACpE,CAAC,CACV,CAAC,CAED,KAAM,CAAAmB,eAAe,CAAIC,KAAK,GAAM,CAChCJ,YAAY,CAAEI,KAAK,CAACC,IAAI,CAACL,YAAY,CACrChB,UAAU,CAAEoB,KAAK,CAACC,IAAI,CAACrB,UAC3B,CAAC,CAAC,CAEF,cAAe,CAAAf,OAAO,CAACkC,eAAe,CAAE,CAACjC,aAAa,CAAC,CAAC,CAACuB,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
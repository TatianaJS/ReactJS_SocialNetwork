"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[686],{2686:(s,e,t)=>{t.r(e),t.d(e,{default:()=>z,withRouter:()=>_});var a=t(5043),i=t(3216),o=t(3003),l=t(3923),r=t(1398);const n={avatar:"ProfileInfo_avatar__mPI1M",info_page:"ProfileInfo_info_page__AcAxs",line_one:"ProfileInfo_line_one__zibQr",fio:"ProfileInfo_fio__rZlZ6",data:"ProfileInfo_data__CnqZf",info:"ProfileInfo_info__6syOr",contacts_list:"ProfileInfo_contacts_list__6UIn1",separate:"ProfileInfo_separate__P-1jn",contact:"ProfileInfo_contact__TJwL2"};var c=t(1970),d=t(579);const u=s=>{let{contactTitle:e,contactValue:t}=s;return(0,d.jsxs)("span",{children:[(0,d.jsxs)("b",{children:[e,":"]})," ",t]})},h="ProfileStatus_profile_status__3cExP",p="ProfileStatus_profile_status__input__pysrj",j=s=>{let[e,t]=(0,a.useState)(!1),[i,o]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{o(s.status)}),[s.status]);return(0,d.jsxs)("div",{children:[!e&&(0,d.jsx)("div",{className:h,children:(0,d.jsxs)("span",{onDoubleClick:()=>{t(!0)},children:[(0,d.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",s.status||"\u2013"]})}),e&&(0,d.jsx)("div",{className:p,children:(0,d.jsx)("input",{autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(i)},onChange:s=>{o(s.currentTarget.value)},value:i})})]})},m=s=>{let{profile:e,isOwner:t,savePhoto:a,onEditMode:i,status:o,updateStatus:l}=s;return(0,d.jsxs)("div",{className:n.info_page,children:[(0,d.jsxs)("div",{className:n.avatar,children:[(0,d.jsx)("img",{src:null!==e.photos.large?e.photos.large:c,alt:"",className:n.user_photo}),t&&(0,d.jsx)("input",{type:"file",onChange:s=>{s.target.files.length&&a(s.target.files[0])}})]}),(0,d.jsxs)("div",{className:n.data,children:[(0,d.jsxs)("div",{className:n.line_one,children:[(0,d.jsxs)("div",{className:n.fio,children:[e.fullName,(0,d.jsx)(j,{status:o,updateStatus:l})]}),t&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{onClick:i,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})})]}),(0,d.jsxs)("div",{className:n.info,children:[e.aboutMe&&(0,d.jsxs)("span",{children:[(0,d.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",e.aboutMe]}),(0,d.jsxs)("span",{children:[(0,d.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",e.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),e.lookingForAJobDescription&&(0,d.jsxs)("span",{children:[(0,d.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"})," ",e.lookingForAJobDescription]}),(0,d.jsx)("span",{className:n.separate,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object.keys(e.contacts).map(((s,t)=>(0,d.jsx)(u,{contactTitle:s,contactValue:e.contacts[s]},t)))]})]})]})};var A=t(3842),v=t(8372);const I=(0,A.A)({form:"editProfile"})((s=>{let{handleSubmit:e,profile:t,error:a}=s;return(0,d.jsxs)("div",{className:n.info_page,children:[(0,d.jsx)("div",{className:n.avatar,children:(0,d.jsx)("img",{src:null!==t.photos.large?t.photos.large:c,alt:"",className:n.user_photo})}),(0,d.jsx)("div",{className:n.data,children:(0,d.jsxs)("form",{onSubmit:e,children:[(0,v.Fv)(v.pd,"fullName","\u0418\u043c\u044f","input",[],""),(0,v.Fv)(v.TM,"aboutMe","\u041e\u0431\u043e \u043c\u043d\u0435","",[],""),(0,d.jsx)("label",{className:"input_checkbox__customized",children:(0,v.Fv)(v.pd,"lookingForAJob",null,"checkbox",[],"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443")}),(0,v.Fv)(v.TM,"lookingForAJobDescription","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b","",[],""),(0,d.jsx)("span",{children:Object.keys(t.contacts).map((s=>(0,d.jsxs)("div",{className:n.contact,children:[(0,d.jsxs)("b",{children:[s,":"]})," ",(0,v.Fv)(v.pd,"contacts."+s,s,"input",[],"")]},s)))}),a&&(0,d.jsx)("div",{className:"form_error",children:a}),(0,d.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})})]})})),M=s=>{let{profile:e,status:t,updateStatus:i,isOwner:o,saveProfile:l,savePhoto:n}=s,[c,u]=(0,a.useState)(!1);if(!e)return(0,d.jsx)(r.A,{});return(0,d.jsx)("div",{children:c?(0,d.jsx)(I,{initialValues:e,profile:e,onSubmit:async s=>{l(s).then((()=>{u(!1)}))}}):(0,d.jsx)(m,{profile:e,isOwner:o,savePhoto:n,onEditMode:()=>{u(!0)},status:t,updateStatus:i})})};var x=t(8302),b=t(5963);const g="Post_posts__Z-9AK",f="Post_item__rUzkX",P="Post_like__sV4zY",N=s=>(0,d.jsx)("div",{className:g,children:(0,d.jsxs)("div",{className:f,children:[(0,d.jsx)("img",{src:s.image,alt:""}),s.message,(0,d.jsxs)("span",{className:P,children:[(0,d.jsx)("img",{alt:"likes",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAADdcAAA3XAUIom3gAAAXIaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0ODgsIDIwMjAvMDcvMTAtMjI6MDY6NTMgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDMtMjhUMTU6MTc6MTcrMDQ6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDMtMjhUMTU6MTc6MTcrMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTAzLTI4VDE1OjE3OjE3KzA0OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmZjMmY4MjQ0LWNhNzYtZmI0ZS05MDlhLTRlMjg2NDAyYzkzNSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmVjOTMzM2I4LWNhNDMtNTM0MS1hOWNmLWE2M2MzZTQxYzI5NSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjIwYTQzMzY4LTM5OWMtMWQ0NC05NDlkLWYwNDRlZjQ0ZTFmOCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjIwYTQzMzY4LTM5OWMtMWQ0NC05NDlkLWYwNDRlZjQ0ZTFmOCIgc3RFdnQ6d2hlbj0iMjAyNC0wMy0yOFQxNToxNzoxNyswNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYzJmODI0NC1jYTc2LWZiNGUtOTA5YS00ZTI4NjQwMmM5MzUiIHN0RXZ0OndoZW49IjIwMjQtMDMtMjhUMTU6MTc6MTcrMDQ6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4/yAN7AAABg0lEQVQ4ja3Uv0vVYRTH8de5ivSDhqQm275ZROHgFC0uNYgN1WK4RIpBgw79A5Gt0pBTSYtBFIQGhgb92nIKIhIKAougouaE4EINz3Ppcv3ee638TM9zns95D+ec50REIWsvbmAIXTn2DGP4kO/7cAsnEKhiGRfwFTqzsR8v8Q1TeIseTGINB/Ezgz/iEj6hFxP4gmNYiYiiK5sfYdBG3cR4Ps/hXIlnAaewKyKKWkKUGGt6jW040MLzC/cqGTbdwgh9bWBwFcOVfFluY96MnkMNWN0CYLUeOLAFwKMQEcV9qbs7/xP4Ha8quIgd0jz9q8awB6MdEd3rWMc1PJSG9G90WJrhy1iMuq93F8M4gtVNwgq8xwOc5k9T4CyW8EYucBv1Z9jTGqwRSFoMd7CCMy1gJ6W/P4/j9Q8dEd2N5nlsx3X8wIuG9wnczu/nG5PLgPAEnzEjrazFHJ+Rij+JK2WJnWXBrFlpdT3GbmkjjUhlWWqWVN/lZtqPd1K9D0m7sql+A09aSeLCd2wXAAAAAElFTkSuQmCC"}),s.likes]})]})}),G="MyPost_entries__uf0eo";var w=t(4225);const Y=a.memo((s=>{let e=s.posts.map((s=>(0,d.jsx)(N,{message:s.message,likes:s.likes,image:s.image},s.id)));return(0,d.jsxs)("div",{className:G,children:[(0,d.jsx)("p",{children:"My posts"}),(0,d.jsx)(T,{onSubmit:e=>{s.addPost(e.newPostText)}}),e]})})),Z=(0,w.d)(10),T=(0,A.A)({form:"addPost"})((s=>(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,d.jsx)(b.A,{component:v.TM,name:"newPost",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[w.Q,Z]}),(0,d.jsx)("button",{type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}))),R=Y;const D=(0,o.Ng)((s=>({posts:s.pageProfile.postsDt,newPostText:s.pageProfile.newPostText})),(s=>({addPost:e=>{s((0,x.oL)(e))}})))(R),S=s=>(0,d.jsxs)("div",{children:[(0,d.jsx)(M,{isOwner:s.isOwner,profile:s.userProfile,status:s.status,updateStatus:s.updateStatus,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,d.jsx)(D,{})]});function _(s){return e=>{const t={params:(0,i.g)()};return(0,d.jsx)(s,{...e,match:t})}}class W extends a.Component{reloadProfile(){let s=this.props.match.params.userId;if(!s&&(s=this.props.authorizedUserId,!s))return(0,d.jsx)(i.C5,{to:"/auth"});this.props.getUserProfile(s),this.props.getUserStatus(s)}componentDidMount(){this.reloadProfile()}componentDidUpdate(s,e,t){this.props.match.params.userId!==s.match.params.userId&&this.reloadProfile()}render(){return(0,d.jsx)("div",{children:(0,d.jsx)(S,{...this.props,isOwner:!this.props.match.params.userId,userProfile:this.props.userProfile,status:this.props.status,updateStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})})}}const z=(0,l.Zz)((0,o.Ng)((s=>({userProfile:s.pageProfile.userProfile,status:s.pageProfile.status,authorizedUserId:s.auth.userId,isAuthorized:s.auth.isAuthorized})),{getUserProfile:x.VM,getUserStatus:x.CD,updateUserStatus:x.pU,savePhoto:x.Ah,saveProfile:x.Lt}),_)(W)}}]);
//# sourceMappingURL=686.ff697dab.chunk.js.map
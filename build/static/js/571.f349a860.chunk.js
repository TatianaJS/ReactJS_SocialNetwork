"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[571],{7571:(s,e,t)=>{t.r(e),t.d(e,{default:()=>w,withRouter:()=>C});var r=t(5043),a=t(3216),i=t(3003),o=t(3923);const l={top_img:"ProfileInfo_top_img__mE3rB",avatar:"ProfileInfo_avatar__mPI1M",info:"ProfileInfo_info__6syOr",fio:"ProfileInfo_fio__rZlZ6",data:"ProfileInfo_data__CnqZf",profile__fio:"ProfileInfo_profile__fio__8S-yy"};var n=t(3637),u=t(1970);const p="ProfileStatus_profile_status__3cExP",d="ProfileStatus_profile_status__input__pysrj";var c=t(579);const f=s=>{let[e,t]=(0,r.useState)(!1),[a,i]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{i(s.status)}),[s.status]);return(0,c.jsxs)("div",{children:[!e&&(0,c.jsx)("div",{className:p,children:(0,c.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"\u2013"})}),e&&(0,c.jsx)("div",{className:d,children:(0,c.jsx)("input",{autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(a)},onChange:s=>{i(s.currentTarget.value)},value:a})})]})},h=s=>s.profile?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:l.top_img,children:(0,c.jsx)("img",{src:"https://avatars.dzeninfra.ru/get-zen_doc/196027/pub_5cb2e7b9c07b6700b34e992c_5cb2ebb66749e800b419fc58/scale_2400",alt:""})}),(0,c.jsx)(f,{status:s.status,updateStatus:s.updateStatus}),(0,c.jsxs)("div",{className:l.info,children:[(0,c.jsx)("div",{className:l.avatar,children:(0,c.jsx)("img",{src:null!==s.profile.photos.large?s.profile.photos.large:u,alt:"",className:l.user_photo})}),(0,c.jsxs)("div",{className:l.data,children:[(0,c.jsx)("div",{className:l.fio,children:s.profile.fullName}),(0,c.jsxs)("div",{children:[null!==s.profile.aboutMe?(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",s.profile.aboutMe]}):"",(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",s.profile.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),null!==s.profile.lookingForAJobDescription?(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"})," ",s.profile.lookingForAJobDescription]}):"",(0,c.jsx)("span",{children:(0,c.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "})})]})]})]})]}):(0,c.jsx)(n.A,{});var _=t(8302),x=t(5963),m=t(3842);const j="Post_posts__Z-9AK",P="Post_item__rUzkX",g="Post_like__sV4zY",v=s=>(0,c.jsx)("div",{className:j,children:(0,c.jsxs)("div",{className:P,children:[(0,c.jsx)("img",{src:"./img/avatar_1.png",alt:""}),s.message,(0,c.jsx)("span",{className:g,children:s.likes})]})}),b="MyPost_entries__uf0eo";var S=t(8372),N=t(4225);const k=r.memo((s=>{let e=s.posts.map((s=>(0,c.jsx)(v,{message:s.message,likes:s.likes},s.id)));return(0,c.jsxs)("div",{className:b,children:[(0,c.jsx)("p",{children:"My posts"}),(0,c.jsx)(U,{onSubmit:e=>{s.addPost(e.newPostText)}}),e]})})),I=(0,N.d)(10),U=(0,m.A)({form:"addPost"})((s=>(0,c.jsx)("div",{children:(0,c.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,c.jsx)(x.A,{component:S.TM,name:"newPost",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[N.Q,I]}),(0,c.jsx)("button",{type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}))),y=k;const z=(0,i.Ng)((s=>({posts:s.pageProfile.postsDt,newPostText:s.pageProfile.newPostText})),(s=>({addPost:e=>{s((0,_.oL)(e))}})))(y),A=s=>(0,c.jsxs)("div",{children:[(0,c.jsx)(h,{profile:s.userProfile,status:s.status,updateStatus:s.updateStatus}),(0,c.jsx)(z,{})]});function C(s){return e=>{const t={params:(0,a.g)()};return(0,c.jsx)(s,{...e,match:t})}}class M extends r.Component{componentDidMount(){let s=this.props.match.params.userId;if(!s&&(s=this.props.authorizedUserId,!s))return(0,c.jsx)(a.C5,{to:"/auth"});this.props.getUserProfile(s),this.props.getUserStatus(s)}render(){return(0,c.jsx)("div",{children:(0,c.jsx)(A,{...this.props,userProfile:this.props.userProfile,status:this.props.status,updateStatus:this.props.updateUserStatus})})}}const w=(0,o.Zz)((0,i.Ng)((s=>({userProfile:s.pageProfile.userProfile,status:s.pageProfile.status,authorizedUserId:s.auth.userId,isAuthorized:s.auth.isAuthorized})),{getUserProfile:_.VM,getUserStatus:_.CD,updateUserStatus:_.pU}),C)(M)}}]);
//# sourceMappingURL=571.f349a860.chunk.js.map
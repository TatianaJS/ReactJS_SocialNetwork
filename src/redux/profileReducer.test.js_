import React from 'react';
import ReactDOM from 'react-dom';
import App from '../App';
import profileReducer, { addPostActionCreator } from './profileReducer';

let state = {
    postsDt: [
        {
            id: 1,
            message: 'Hi, how are u?',
            likes: 12
        },
        {
            id: 2,
            message: 'Hi, everybody!',
            likes: 36
        },
        {
            id: 3,
            message: 'OK. And u?',
            likes: 26
        }
    ]
};

test('new post should be added', () => {
    let action = addPostActionCreator('new post for test');
    let newState = profileReducer(state, action);

    expect(newState.postsDt.length).toBe(5);
    expect(newState.postsDt[4].message).toBe('yo! new post!');
});

test('length of messages should decrement after deleting process', () => {
    let action = deletePost(1);
    
    let newState = profileReducer(state, action);

    expect(newState.postsDt.length).toBe(3);
});